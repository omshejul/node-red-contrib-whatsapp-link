<script type="text/javascript">
    RED.nodes.registerType('whatsappLink', {
        category: 'input',
        color: '#a6bbcf',
        defaults: {
            name: { value: "" },
            clientType: { value: "waWebClient", required: true },
            loopTime: { value: 1, required: true, validate: RED.validators.number() },
            onlineStatus: { value: true },
            clientIds: { value: "", required: true } // Add a field for client IDs
        },
        inputs: 1,
        outputs: 1,
        icon: "font-awesome/fa-whatsapp",
        label: function() {
            return this.name || "whatsappLink";
        },
        oneditprepare: function() {
            $("#node-input-clientType").change(function() {
                var type = $(this).val();
                if (type === "waWebClient") {
                    $(".socketClient-settings").hide();
                } else {
                    $(".socketClient-settings").show();
                }
            }).trigger('change');
        }
    });
</script>

<div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
</div>
<div class="form-row">
    <label for="node-input-clientType"><i class="fa fa-code"></i> Client Type</label>
    <select id="node-input-clientType" style="width: 100%;">
        <option value="waWebClient">WhatsApp Web Client</option>
        <option value="waSocketClient">WhatsApp Socket Client</option>
    </select>
</div>
<div class="form-row">
    <label for="node-input-loopTime"><i class="fa fa-clock-o"></i> Loop Time (hours)</label>
    <input type="number" id="node-input-loopTime">
</div>
<div class="form-row">
    <label for="node-input-onlineStatus"><i class="fa fa-signal"></i> Online Status</label>
    <input type="checkbox" id="node-input-onlineStatus">
</div>
<div class="form-row">
    <label for="node-input-clientIds"><i class="fa fa-id-badge"></i> Client IDs (comma separated)</label>
    <input type="text" id="node-input-clientIds" placeholder="client1,client2,client3">
</div>
